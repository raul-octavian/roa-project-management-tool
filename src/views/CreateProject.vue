<template>
  <div>
    <div class="view-basic">
      <h1>Create New Project</h1>
      <div class="form-wrapper">
        <form action="" @submit.prevent="createProject()">
          <div class="form__required-fields">
            <div>
              <label class="label" for="name">Name:</label>
              <input
                type="text"
                id="name"
                class="form__input"
                name="name"
                placeholder="Project name"
                required
                v-model="name"
              />
            </div>
          </div>
          <div class="form__fields">
            <div>
              <label class="label" for="description">Description:</label>
              <textarea
                onfocus="this.value=''; this.onfocus=null;"
                id="description"
                type="text"
                class="form__input"
                name="description"
                v-model="description"
              ></textarea>
            </div>
          </div>
          <div class="form__timeSchedule">
            <div>
              <label class="label" for="start_date">Start date:</label>
              <input
                type="date"
                id="start_date"
                name="start_date"
                min=""
                max=""
                v-model="start_Date"
              />
            </div>
            <div>
              <label class="label" for="due_date">Due date:</label>
              <input
                type="date"
                id="due_date"
                name="due_date"
                min=""
                max=""
                v-model="due_Date"
              />
            </div>
            <div>
              <label class="label" for="allocated-hours"
                >Allocated hours:</label
              >
              <input
                type="number"
                id="allocated-hours"
                name="allocated_hours"
                v-model="allocated_Hours"
              />
            </div>
            <div>
              <label class="label" for="used-hours">used hours:</label>
              <input
                type="number"
                id="used-hours"
                name="used_Hours"
                v-model="used_Hours"
              />
            </div>
          </div>
          <div class="form__actions">
            <button type="submit" class="primary-action">Create project</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</template>

<script>
import { toRefs } from 'vue'
// import { userData } from '@/store'
// import { uri } from '../composables/uri'
import { createProjectComp } from '@/composables/createProject'
export default {
  setup() {
    const { createProject, projectRequest, project, fetchError } =
      createProjectComp()

    return {
      project,
      ...toRefs(project),
      createProject,
      fetchError,
      projectRequest
    }
  }
}
</script>

<style lang="css" scoped>
.view-basic {
  width: clamp(300px, 80vw, 1900px);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: var(--base-8);
}
</style>
